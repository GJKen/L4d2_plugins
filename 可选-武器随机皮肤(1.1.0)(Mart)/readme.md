# ğŸ“Œæ­¦å™¨éšæœºçš®è‚¤

åŸä½œ [alliedmods](https://forums.alliedmods.net/showthread.php?t=327609)

æ”¯æŒå®˜æ–¹éšæœºçš®è‚¤, åŒæ—¶å¯ä»¥ç»™éƒ¨åˆ†æ”¯æŒRNG çš„ Mod éšæœºçš®è‚¤

<details><summary>ç®€ä»‹</summary>

å°†éšæœºçš®è‚¤åº”ç”¨äºç”Ÿæˆæ—¶çš„æ­¦å™¨å®ä½“

å…è®¸ä¸ºæ­¦å™¨è£…å¤‡ä¸åˆ·æ€ªå®ä½“ç›¸åŒçš„çš®è‚¤ (ä¾‹å¦‚:Weapon_rifle_spawn)

å…è®¸é…ç½®å“ªäº›æ­¦å™¨åº”å…·æœ‰ RNG çš®è‚¤

å¿½ç•¥å·²ç»å…·æœ‰ä¸é»˜è®¤çš®è‚¤ä¸åŒçš„æ­¦å™¨
</details>

<details><summary>æ³¨æ„äº‹é¡¹</summary>

çš®è‚¤çš„æ”¹å˜æ˜¯é€šè¿‡æ”¹å˜æ­¦å™¨ "m_nSkin" netprop å€¼æ¥å®ç°çš„

å¯¹äºç”Ÿæˆå™¨å®ä½“,"m_nWeaponSkin"ä¹Ÿæ›´æ”¹ä¸ºç›¸åŒçš„å€¼

å¦‚æœé»˜è®¤æƒ…å†µä¸‹åœ°å›¾æ›´æ”¹äº†æ­¦å™¨çš„å¤–è§‚, åˆ™æ­¤æ’ä»¶ä¸ä¼šé˜»æ­¢å®ƒ

å½“æ­¦å™¨å·²ç»è£…å¤‡(æ¿€æ´»)æ—¶, æˆ‘å¿…é¡»å°†çš®è‚¤ä¹Ÿåº”ç”¨åˆ°"m_hViewModel"netprop, å¦åˆ™çš®è‚¤æ›´æ”¹ä¼šæœ‰ä¸€äº›å»¶è¿Ÿ

å¹¶éæ‰€æœ‰æ­¦å™¨éƒ½æœ‰æ–°çš®è‚¤, æœ‰äº›æ­¦å™¨ä¸åŸæ¥çš„çš®è‚¤æ²¡æœ‰å¤ªå¤§åŒºåˆ«

ç›®å‰æ”¯æŒçš„æ­¦å™¨æœ‰:

- è¿‘æˆ˜:æ’¬æ£, æ¿çƒæ£’
- æ‰‹æª: Magnum
- å†²é”‹æª:Uzi; Silenced
- éœ°å¼¹æª:Pump; Chrome; Auto
- Gascan

è¿™äº›æ­¦å™¨æœ‰ 2 æ¬¾æ–°çš®è‚¤:Magnumï¼› M16ï¼› AK47, å…¶ä»–å°±1æŠŠ

11 ç§æ­¦å™¨å…±æœ‰ 14 ç§æ–°çš®è‚¤

ç…¤æ°”ç½çš®è‚¤ä¸å—æ­¤æ’ä»¶çš„å½±å“

æˆªè‡³ 2020 å¹´ 9 æœˆ 29 æ—¥, å·²æ²¡æœ‰æ›´å¤šçš®è‚¤å¯ç”¨

å¯¹äºä½¿ç”¨æ’ä»¶æ›´æ”¹æ­¦å™¨å¤–è§‚çš„å®¢æˆ·ç«¯, è¯¥æ’ä»¶å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œ

å¯ç”¨ Gascan RNG çš®è‚¤å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ’ä»¶å‡ºç°æ•…éšœ, è¿™äº›æ’ä»¶ä¼šæ£€æŸ¥çš®è‚¤ä»¥æ£€æµ‹æ˜¯å¦æ˜¯æ¸…ç†çš®è‚¤

ä¸çŸ¥é“å’Œ"é‡‘æ’¬æ£"æˆå°±æœ‰æ²¡æœ‰å†²çª
</details>

---
<details><summary>Video | å½±ç‰‡å±•ç¤º</summary>

[Youtube](https://youtu.be/w_CrGjsEg7I)

> è§†é¢‘æ¥è‡ª(Credits: Lucarbuncle)
</details>

<details><summary>Image | å›¾ç¤º</summary>

å®˜æ–¹æ­¦å™¨çš®è‚¤
![l4d2_wskin_rng.smx](https://forums.alliedmods.net/image-proxy/2e2476c28fe3e99efeac12b80cafccbd35001103/68747470733a2f2f692e696d6775722e636f6d2f3838474c7148712e6a7067)

ä¸‰æ–¹æ­¦å™¨çš®è‚¤
![l4d2_wskin_rng.smx](imgs/01.png)
</details>

<details><summary>Command | æŒ‡ä»¤</summary>

|æŒ‡ä»¤|åŠŸèƒ½|æƒé™|
|-|-|-|
|`!wskin_rng`|å®æ—¶éšæœºæ‰“ä¹±æ­¦å™¨çš®è‚¤(éœ€è¦ç®¡ç†å‘˜zæ ‡å¿—)|Admin|
|`!print_cvars_l4d2_wskin_rng`|å°†æ’ä»¶ç›¸å…³çš„ cvars åŠå…¶å„è‡ªçš„å€¼æ‰“å°åˆ°æ§åˆ¶å°(éœ€è¦ç®¡ç†å‘˜zæ ‡å¿—)|Admin|
</details>

<details><summary>ConVar | æ§åˆ¶å°å˜é‡</summary>

cfg\sourcemod\l4d2_wskin_rng.cfg
```sourcepawn
// This file was auto-generated by SourceMod (v1.11.0.6936)
// ConVars for plugin "l4d2_wskin_rng.smx"

// æ’ä»¶çš„ç‰ˆæœ¬
l4d2_wskin_rng_version "1.1.0"

// å¯ç”¨/ç¦ç”¨æ’ä»¶, 0=å…³, 1=å¼€
l4d2_wskin_rng_enable "1"

// å¿½ç•¥çš®è‚¤ä¸é»˜è®¤çš®è‚¤ä¸åŒçš„æ­¦å™¨, 0=å…³, 1=å¼€
l4d2_wskin_rng_ignore_skin "1"

// é©¬æ ¼å—çš„æ­¦å™¨çš®è‚¤ RNG, 0=å…³, 1=å¼€
l4d2_wskin_rng_pistol_magnum "1"

// æ³µéœ°å¼¹æªçš„æ­¦å™¨çš®è‚¤ RNG, 0=å…³, 1=å¼€
l4d2_wskin_rng_pump_shotgun "1"

// è‡ªåŠ¨éœ°å¼¹æªçš„æ­¦å™¨çš®è‚¤ RNG, 0=å…³, 1=å¼€
l4d2_wskin_rng_shotgun_chrome "1"

// è‡ªåŠ¨éœ°å¼¹æªçš„æ­¦å™¨çš®è‚¤, 0=å…³, 1=å¼€
l4d2_wskin_rng_auto_shotgun "1"

// SMG Uzi çš„æ­¦å™¨çš®è‚¤, 0=å…³, 1=å¼€
l4d2_wskin_rng_smg_uzi "1"

// æ¶ˆéŸ³ SMG çš„æ­¦å™¨çš®è‚¤ RNG, 0=å…³, 1=å¼€
l4d2_wskin_rng_smg_silenced "1"

// M16 æ­¥æªçš„æ­¦å™¨çš®è‚¤ RNG, 0=å…³, 1=å¼€
l4d2_wskin_rng_rifle_m16 "1"

// AK47 æ­¥æªçš„æ­¦å™¨çš®è‚¤ RNG, 0=å…³, 1=å¼€
l4d2_wskin_rng_rifle_ak47 "1"

// ç‹©çŒæ­¥æªçš„æ­¦å™¨çš®è‚¤ RNG, 0=å…³, 1=å¼€
l4d2_wskin_rng_hunting_rifle "1"

// ç”¨äºæ£’çƒæ£’çš„æ­¦å™¨çš®è‚¤ RNG, 0=å…³, 1=å¼€
l4d2_wskin_rng_cricket_bat "1"

// ç”¨äºæ’¬æ£çš„æ­¦å™¨çš®è‚¤, 0=å…³, 1=å¼€
l4d2_wskin_rng_crowbar "1"

// Gascan çš„æ­¦å™¨çš®è‚¤ RNG, æ³¨æ„:å¯ç”¨æ­¤åŠŸèƒ½å¯èƒ½ä¼šå¯¼è‡´æŸäº›æ£€æŸ¥ Gascan çš®è‚¤ä»¥æ£€æµ‹æ˜¯å¦ä¸ºæ¸…é™¤çš®è‚¤çš„æ’ä»¶å‡ºç°æ•…éšœ, 0=å…³, 1=å¼€
l4d2_wskin_rng_gascan "0"
```
</details>

Translation Support | æ”¯æŒè¯­è¨€
<br>None

<details><summary>Apply to | é€‚ç”¨äº</summary>

```php
L4D2 Only
```
</details>

Require | éœ€æ±‚
<br>None

<details><summary>Related Plugin | ç›¸å…³æ’ä»¶</summary>

1. [[L4D2] Weapons Skins Menu](https://forums.alliedmods.net/showthread.php?t=327611) by [Marttt](https://forums.alliedmods.net/member.php?u=290327)
2. [[L4D2] Weapons Skins Switch](https://forums.alliedmods.net/showthread.php?t=328478) by [Marttt](https://forums.alliedmods.net/member.php?u=290327)
3. [[L4D2] Weapon Skin Manager](https://forums.alliedmods.net/showthread.php?t=327920) by [Qtheman](https://forums.alliedmods.net/member.php?u=92505)
</details>

<details><summary>Changelog | ç‰ˆæœ¬æ—¥å¿—</summary>

- 1.1.0 (17-September-2022)
	- Added cvar to ignore weapons that already have a skin different than default. (thanks "HarryPotter" for requesting)

- 1.0.9 (14-March-2022)
	- Added safe check while getting the entity skin to prevent errors. (thanks "HarryPotter" for reporting)

- 1.0.8 (12-March-2022)
	- Fixed gascans not applying skin on pickup. (thanks to "Toranks" for reporting and "ryzewash" for the code snippet to fix it)

- 1.0.7 (17-October-2021)
	- Fixed prop_physics gascans not changing their skin when enabled. (thanks to "ryzewash" for reporting)

- 1.0.6 (04-June-2021)
	- Added gascan option. (thanks to "TrevorSoldier" for requesting)

- 1.0.5 (10-November-2020)
	- Fixed logic to apply RNG skin only after the config is loaded.
	- Fixed error when the StringMaps weren't initialized yet. (thanks to "Krufftys Killers" for reporting)

- 1.0.4 (10-November-2020)
	- Added cvar to select which weapons should have RNG skin. (thanks to "larrybrains" for requesting)

- 1.0.3 (03-November-2020)
	- Fixed spawner entities' skin logic.
	- Removed RNG logic from owned weapons.
	- Added admin command to scramble weapon skins in real-time.
	- Fixed compatibility with the skin menu plugin.

- 1.0.2 (30-September-2020)
	- Fixed a bug where sometimes it didn't apply the correct skin when picking up an item from a spawner with count = 1. (thanks "Tonblader" for reporting)

- 1.0.1 (30-September-2020)
	- Removed EventHookMode_PostNoCopy from hook events. (thanks "AK978" for reporting)

- 1.0.0 (29-September-2020)
	- Initial release.
</details>