# ğŸ“Œåœ£è¯æ ‘

åŸä½œ [alliedmods](https://forums.alliedmods.net/showthread.php?p=2672241)

ç”Ÿæˆåœ£è¯æ ‘æˆ–ç¤¼ç‰©ç›’å­, å¯ä¸´æ—¶ç”Ÿæˆæˆ–ä¿å­˜åˆ°åœ°å›¾ä¸Š

> è‡ªç”¨ç”Ÿæˆçš„åœ£è¯æ ‘é…ç½®æ–‡ä»¶ `data/l4d_christmas_tree.cfg`

> æ„Ÿè°¢ "apples1949" æ±‰åŒ–æ’ä»¶

<details><summary>â—â—â—å¿…çœ‹æ³¨æ„é¡¹</summary>

- ç¤¼ç‰©å¯ä»¥ç ´åå¹¶ç”Ÿæˆç‰©å“æˆ–æ­¦å™¨.

- L4D ç¼ºå°‘ L4D2 ç¤¼ç‰©æ¨¡å‹å¹¶ä½¿ç”¨æ¿æ¡ç®±.

- ç„å‡†ä¾å„’è¿›è¡Œåˆ é™¤, ç¼–è¾‘ä½ç½®å’Œè§’åº¦.è¿™æ£µæ ‘æ˜¯éå®å¿ƒçš„.

- æ¯å¼ åœ°å›¾æœ€å¤š 2 æ£µæ ‘.ç¤¼ç‰©ä»…é™ 32 ä¸ª.é‡æ–°ç¼–è¯‘ä»¥æ›´æ”¹é™åˆ¶.

- æ ‘(é»˜è®¤è®¾ç½®)ä½¿ç”¨å¤§çº¦ 45 ä¸ªå®ä½“(2 ä¸ªæ¨¡å‹ + 6 ä¸ªç¤¼ç‰© + 1 ä¸ªç«èŠ± + 4 ä¸ªç¯å…‰ + 32 ä¸ªç²¾çµ)çˆ†ç‚¸æ—¶å¤§çº¦æœ‰ 8 ä¸ªä¸´æ—¶å®ä½“.

- å®ƒä¸æ˜¯æœåŠ¡å™¨çš„ CPU å¯†é›†å‹æ’ä»¶. Rainbow é€‰é¡¹ä¼šç¨å¾®å¢åŠ å¸¦å®½.

- å½“æ£€æµ‹åˆ° l4d_dissolve_infected.txt æ¸¸æˆæ•°æ®æ—¶, å¯ä»¥é€‰æ‹©å‘ç¤¼ç‰©æ·»åŠ æº¶è§£æ•ˆæœ.å¯ä»¥ä½¿ç”¨ l4d_tree_effects cvar ç¦ç”¨.

- è¿™ä¸ªæ’ä»¶å¾ˆå¤§, å› ä¸ºå®ƒå…·æœ‰åº“å­˜æ•ˆæœ, ç”Ÿæˆèƒ½åŠ›ä»¥åŠæ‰€æœ‰ç›¸å…³é€‰é¡¹.

- å®Œå…¨å¤„ç†åæœŸåŠ è½½, å¸è½½, æ‰“å¼€/å…³é—­å’Œåˆ é™¤æœªä½¿ç”¨çš„é¡¹ç›®.

- æ¨èçš„é™„åŠ æ’ä»¶: ç”¨äºè£…é¥°çš„éœ“è™¹ç¯å…‰æŸ.å¤©æ°”æ§åˆ¶æˆ–åœ£è¯èŠ‚ä¸‹é›ª.

- å¯é€‰çš„æ•°æ®é…ç½®æä¾›äº†ä¿å­˜åˆ°æ¯ä¸ª Valve åœ°å›¾çš„æ ‘.æ„Ÿè°¢ "Dragokas" æä¾›çš„L4D1æ•°æ®.
</details>

---
<details><summary>Command | æŒ‡ä»¤</summary>

|æŒ‡ä»¤|ç”¨æ³•|æƒé™|
|-|-|-|
|`!tree_spawn`|åœ¨ä½ çš„åå­—å‡†çº¿å¤„ç”Ÿæˆä¸€æ£µä¸´æ—¶çš„ç¤¼ç‰©/æ ‘, ç”¨æ³•:sm_tree_spawn [0=ç¤¼ç‰©, 1=æ ‘]|Admin|
|`!tree_save`|åœ¨ä½ çš„åå­—å‡†çº¿å¤„ç”Ÿæˆä¸€æ£µç¤¼ç‰©/æ ‘å¹¶ä¿å­˜åˆ°é…ç½®ä¸­, ç”¨æ³•:sm_tree_save[0=ç¤¼ç‰©, 1=æ ‘]|Admin|
|`!tree_del`|åˆ é™¤æ‚¨æŒ‡å‘çš„ç¤¼ç‰©/æ ‘, å¹¶ä»é…ç½®ä¸­åˆ é™¤(å¦‚æœå·²ä¿å­˜)|Admin|
|`!tree_clear`|ä»å½“å‰åœ°å›¾ä¸­åˆ é™¤æ­¤æ’ä»¶ç”Ÿæˆçš„æ‰€æœ‰ç¤¼ç‰©/æ ‘æœ¨|Admin|
|`!tree_wipe`|ä»å½“å‰åœ°å›¾ä¸­åˆ é™¤æ‰€æœ‰ç¤¼ç‰©/æ ‘æœ¨å¹¶ä»é…ç½®ä¸­åˆ é™¤å®ƒä»¬|Admin|
|`!tree_reload`|é‡ç½®æ’ä»¶å¹¶é‡æ–°åŠ è½½æ•°æ®é…ç½®å’Œä¿å­˜çš„æ•°æ®|Admin|
|`!tree_glow`|åˆ‡æ¢ä»¥å¯ç”¨æ‰€æœ‰ç¤¼ç‰©/æ ‘æœ¨çš„å‘å…‰, ä»¥æŸ¥çœ‹å®ƒä»¬çš„æ”¾ç½®ä½ç½®|Admin|
|`!tree_list`|æ˜¾ç¤ºç¤¼ç‰©/æ ‘ä½ç½®åˆ—è¡¨å’Œæ€»æ•°|Admin|
|`!tree_tele`|ä¼ é€åˆ°ç¤¼ç‰©/æ ‘(ç”¨æ³•:sm_tree_tele <ç´¢å¼•:1 åˆ° MAX_SPAWNS (32)>)|Admin|
|`!tree_ang`|æ˜¾ç¤ºä¸€ä¸ªèœå•æ¥è°ƒæ•´åå­—å‡†çº¿ä¸Šæ–¹çš„ç¤¼ç‰©/æ ‘è§’åº¦|Admin|
|`!tree_pos`|æ˜¾ç¤ºä¸€ä¸ªèœå•æ¥è°ƒæ•´åå­—å‡†çº¿ç»“æŸæ—¶çš„ç¤¼ç‰©/æ ‘åŸç‚¹|Admin|
---
</details>

Video | å½±ç‰‡å±•ç¤º
<br>None

<details><summary>Image | å›¾ç¤º</summary>

![l4d_christmas_tree.smx](https://forums.alliedmods.net/image-proxy/46b4172823e0f72231b3a74d521c3741e752d59d/68747470733a2f2f692e696d6775722e636f6d2f615747435534672e6a7067)

![l4d_christmas_tree.smx](https://forums.alliedmods.net/image-proxy/0c84013581c4e8fba792935bf1c09f1e8ae6bd9c/68747470733a2f2f692e696d6775722e636f6d2f616a4c497254352e6a7067)

![l4d_christmas_tree.smx](https://forums.alliedmods.net/image-proxy/6ec3c132b292d75c8dbef415d8283a7015b653a7/68747470733a2f2f692e696d6775722e636f6d2f5052374f656b552e6a7067)
</details>

<details><summary>ConVar | æ§åˆ¶å°å˜é‡</summary>

cfg/sourcemod/l4d_mutants.cfg
```sourcepawn
// This file was auto-generated by SourceMod (v1.11.0.6936)
// ConVars for plugin "l4d_christmas_tree.smx"

// 0=æ’ä»¶ç¦ç”¨, 1=æ’ä»¶å¯ç”¨.
// Default: "1"
l4d_tree_allow "1"

// è¦æ˜¾ç¤ºå¤šå°‘åˆ—çƒ
// Default: "4"
l4d_tree_ball_columns "4"

// æ¯ä¸€åˆ—è¦æ˜¾ç¤ºå¤šå°‘ä¸ªçƒ
// Default: "8"
l4d_tree_ball_count "8"

// ä»æ ‘åº•å¼€å§‹æ˜¾ç¤ºçƒçš„è·ç¦»
// Default: "45.0"
l4d_tree_ball_radius "45.0"

// ç¤¼ç‰©é¢œè‰², 0=å…³é—­(é»˜è®¤çš„ç¤¼ç‰©é¢œè‰²)ä¸‰ä¸ªæ•°å€¼åœ¨0-255ä¹‹é—´,ç”¨ç©ºæ ¼åˆ†éš”, RGB:çº¢ç»¿è“
// Default: "255 0 0"
l4d_tree_col_gift "255 0 0"

// æ ‘çš„é¢œè‰², 0=å…³é—­(é»˜è®¤çš„ç¤¼ç‰©é¢œè‰²)ä¸‰ä¸ªæ•°å€¼åœ¨0-255ä¹‹é—´,ç”¨ç©ºæ ¼åˆ†éš”, RGB:çº¢ç»¿è“
// Default: "0 255 0"
l4d_tree_col_tree "0 255 0"

// 0=å…³é—­, 1=ç¯å…‰,2=çƒ,4=ç«èŠ±,8=æº¶è§£(ç¤¼ç‰©),16=çƒŸé›¾(ç¤¼ç‰©-å¯èƒ½å¯¼è‡´æœåŠ¡å™¨ç½•è§çš„å´©æºƒ),31=å…¨éƒ¨, æ•°å­—ç›¸åŠ 
// Default: "23"
l4d_tree_effects "23"

// åœ¨æ ‘ä¸‹äº§ç”Ÿå¤šå°‘ä¸ªç¤¼ç‰©
// Default: "0"
l4d_tree_gifts "0"

// ç¤¼ç‰©å‘å…‰è½®å»“é¢œè‰², 0=å…³é—­(é»˜è®¤çš„ç¤¼ç‰©é¢œè‰²)ä¸‰ä¸ªæ•°å€¼åœ¨0-255ä¹‹é—´,ç”¨ç©ºæ ¼åˆ†éš”, RGB:çº¢ç»¿è“
// Default: "255 0 0"
l4d_tree_glow "255 0 0"

// 0:ä¸ç ´åæˆ–æ‰è½ç‰©å“ >0:ç¤¼ç‰©åœ¨ç ´è£‚å’Œæ‰è½ç‰©å“ä¹‹å‰çš„å¥åº·çŠ¶å†µ
// Default: "1"
l4d_tree_health "1"

// ä»¥ä¸‹ç‰©å“æ­¦å™¨ç”Ÿæˆç™¾åˆ†æ¯”å‡ ç‡ æ•°å€¼å¿…é¡»ç”¨é€—å·åˆ†éš” è‚¾ä¸Šè…ºç´ , è¯ä¸¸, ç‡ƒçƒ§ç“¶, è‡ªåˆ¶æ‰‹é›·, èƒ†æ±, åŒ»ç–—åŒ…, ç”µå‡»å™¨, é«˜çˆ†å¼¹è¯åŒ…, ç‡ƒçƒ§å¼¹è¯åŒ…, M4æ­¥æª, 1ä»£è¿å–·, æœ¨ç‹™, macå†²é”‹æª, æœ¨å–·, å°æ‰‹æª, é“å–·, ä¸‰èŠ¯
// Default: "80,100,25,25,25,25,15,15,15,2,2,2,5,5,5,2,0,0,0,2,0,2,5,0,0,2,0,5,0,5"
l4d_tree_items "80,100,25,25,25,25,15,15,15,2,2,2,5,5,5,2,0,0,0,2,0,2,5,0,0,2,0,5,0,5"

// ä»¥ä¸‹è¿‘æˆ˜æ­¦å™¨ç”Ÿæˆå‡ ç‡ æ•°å€¼å¿…é¡»ç”¨é€—å·åˆ†éš”:æ¶ˆé˜²æ–§, æ£’çƒæ£, æ¿çƒæ£, æ’¬æ£, å¹³åº•é”…, é«˜å°”å¤«çƒæ£, å‰ä»–, æ­¦å£«åˆ€, çœ‹åˆ°, è­¦æ£, å°åˆ€, è‰å‰, é“²å­
// Default: "0,0,0,10,0,0,0,50,50,0,50,10,10"
l4d_tree_melee "0,0,0,10,0,0,0,50,50,0,50,10,10"

// åœ¨è¿™äº›æ¸¸æˆæ¨¡å¼ä¸­å¯ç”¨æ’ä»¶, ç”¨è‹±æ–‡é€—å·éš”å¼€(æ— ç©ºæ ¼). (æ— å†…å®¹=å…¨éƒ¨æ¸¸æˆæ¨¡å¼)
// Default: ""
l4d_tree_modes ""

// åœ¨è¿™äº›æ¸¸æˆæ¨¡å¼ä¸­å…³é—­æ’ä»¶, ç”¨è‹±æ–‡é€—å·éš”å¼€(æ— ç©ºæ ¼). (æ— å†…å®¹=æ— )
// Default: ""
l4d_tree_modes_off ""

// åœ¨è¿™äº›æ¸¸æˆæ¨¡å¼ä¸­å¯ç”¨æ’ä»¶. 0=å…¨éƒ¨æ¸¸æˆæ¨¡å¼, 1=æˆ˜å½¹, 2=ç”Ÿè¿˜è€…, 4=å¯¹æŠ—, 8=æ¸…é“å¤«. å°†è¿™äº›æ•°å­—å åŠ åœ¨ä¸€èµ·
// Default: "0"
l4d_tree_modes_tog "0"

// 0=å…³é—­ 1=ç¤¼ç‰©éšæ—¶é—´å˜åŒ–é¢œè‰² 2=æ ‘æœ¨éšç€æ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜é¢œè‰², 3=ä¸¤ä¸ªéƒ½æœ‰
// Default: "2"
l4d_tree_rainbow "2"

// ä½¿ç”¨å½©è™¹é€‰é¡¹æ—¶é¢œè‰²å˜åŒ–çš„é€Ÿåº¦
// Default: "10"
// Minimum: "1.000000"
// Maximum: "255.000000"
l4d_tree_rate "10"

// æ¯ç§’æ›´æ–°é¢œè‰²çš„é¢‘ç‡(ç§’)
// Default: "0.2"
// Minimum: "0.100000"
l4d_tree_speed "0.2"
```
</details>

<details><summary>Translation Support | æ”¯æŒè¯­è¨€</summary>

```
English
ç¹é«”ä¸­æ–‡
ç®€ä½“ä¸­æ–‡
```
</details>

<details><summary>Apply to | é€‚ç”¨äº</summary>

```php
L4D2
```
</details>

Require | éœ€æ±‚
<br>None

<details><summary>Related Plugin | ç›¸å…³æ’ä»¶</summary>

1. [[L4D2] Gift Rewards](https://forums.alliedmods.net/showthread.php?t=320067) `éšæœºç¤¼ç‰©å¥–åŠ±`
</details>

<details><summary>Changelog | ç‰ˆæœ¬æ—¥å¿—</summary>

- 1.8 (30-Jul-2022)
    - Changed cvar "l4d_tree_effects" to turn gifts smoke on or off. This may fix a random rare server crash. Thanks to "Hawkins" for reporting.

- 1.7 (06-Dec-2021)
    - L4D2: Added cvar "l4d_tree_melee" to control melee type spawn chance. Requested by "CaRmilla".
    - L4D2: Modified cvar "l4d_tree_items" adding an entry to the end for melee chance spawn.
    - Changes to fix warnings when compiling on SourceMod 1.11.

- 1.6 (30-Sep-2020)
    - Fixed compile errors on SM 1.11.

- 1.5 (10-May-2020)
    - Blocked glow command from L4D1 which does not support glows.
    - Extra checks to prevent "IsAllowedGameMode" throwing errors.
    - Various changes to tidy up code.

- 1.4 (01-Apr-2020)
    - Fixed "IsAllowedGameMode" from throwing errors when the "_tog" cvar was changed before MapStart.

- 1.3 (19-Dec-2019)
    - Versus gamemodes now spawn the same items for both teams.

- 1.2 (07-Nov-2019)
    - Fixed incorrect gamedata path not loading dissolve if available.

- 1.1 (07-Nov-2019)
    - Fixed gamedata missing error.
    - Fixed gifts spawning in the ground in L4D1.

- 1.0 (07-Nov-2019)
    - Initial release.
</details>